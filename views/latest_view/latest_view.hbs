{{#*inline "title"}}Latest Additions | Twennie{{/inline}}

<div class="latest-container">
  <div class="latest-content">
    <h1 class="latest-title">latest additions to the Twennie library</h1>

    <!-- View-Level Debug Output -->
    <div style="margin-bottom: 1rem;"></div>

    <!-- Section: This Month -->
    <div class="latest-section">
      <h2 class="latest-section-title">this month</h2>
      <div class="latest-library-units-grid">
        {{#each thisMonthItems}}
          {{> latestpartials/latest_card this }}
        {{else}}
          <p>No new items this week.</p>
        {{/each}}
      </div>
    </div>

    <hr class="latest-divider">

    <!-- Section: Last Month -->
    <div class="latest-section">
      <h2 class="latest-section-title">last month</h2>
      <div class="latest-library-units-grid">
        {{#each lastMonthItems}}
          {{> latestpartials/latest_card this }}
        {{else}}
          <p>No new items last month.</p>
        {{/each}}
      </div>
    </div>

    <!-- Topics Page Footer -->
    <div class="latest-topics-footer" style="text-align: center; margin-top: 3rem;">
      <h2 style="font-size: 1.1rem; color: #4e50a2; margin-bottom: 1rem;">
        For older units, see the topics page.
      </h2>
      <a href="/topics" class="latest-unit-review-btn" style="display: inline-block; text-decoration: none; margin-bottom: 200px">
        explore topics
      </a>
    </div>
  </div>
</div>

<!-- Expand Toggle Script -->
<script>
  function toggleLatestCard(element) {
    const card = element.closest('.latest-library-unit-card');
    const content = card.querySelector('.latest-hidden-content');

    const isActive = card.classList.contains('active');

    if (isActive) {
      card.classList.remove('active');
      content.style.display = 'none';
    } else {
      card.classList.add('active');
      content.style.display = 'flex';
    }
  }
</script>




