{{#*inline "title"}}Complete your Membership | Twennie{{/inline}}
<div class="completegroupmemberform-container">
    <h1 class="completegroupmemberform-title">complete your registration</h1>

    <form id="completegroupmembergroup-member-form" class="completegroupmembermembership-form" method="POST" action="/member/group/register">
        {{#if csrfToken}}
            <input type="hidden" name="_csrf" value="{{csrfToken}}">
        {{/if}}

        <input type="hidden" name="groupId" value="{{memberInfo.groupId}}">
        <input type="hidden" name="groupName" value="{{memberInfo.groupName}}">
        
        <div class="completegroupmemberform-section">
            <div class="completegroupmemberform-field">
                <label>Name</label>
                <input type="text" name="name" value="{{memberInfo.name}}" readonly>
            </div>

            <div class="completegroupmemberform-field">
                <label>Email</label>
                <input type="email" name="email" value="{{memberInfo.email}}" readonly>
            </div>

            <div class="completegroupmemberform-field">
                <label for="username">Choose a Username*</label>
                <input type="text" id="username" name="username" required>
                <span class="help-text">This will be your login name.</span>
            </div>

<div class="completegroupmemberform-field password-toggle-container">
  <label for="password">Choose a Password*</label>
  <div class="password-wrapper">
    <input type="password" id="password" name="password" required minlength="6">
    <span class="toggle-password" onclick="togglePasswordVisibility()">
      <ion-icon id="toggleIcon" name="eye-outline"></ion-icon>
    </span>
  </div>
  <span class="help-text">Minimum 6 characters.</span>
</div>
        </div>

        <div class="completegroupmemberform-section">
            <div class="completegroupmemberformagreement-box">
                <input type="checkbox" id="agreement" name="agreement" required>
                <label for="agreement">I agree to the group membership terms.</label>
            </div>
        </div>

        <button type="submit" class="submit-button">complete registration</button>
    </form>
</div>

<script>
  function togglePasswordVisibility() {
    const input = document.getElementById("password");
    const icon = document.getElementById("toggleIcon");
    if (input.type === "password") {
      input.type = "text";
      icon.name = "eye-off-outline";
    } else {
      input.type = "password";
      icon.name = "eye-outline";
    }
  }
</script>
