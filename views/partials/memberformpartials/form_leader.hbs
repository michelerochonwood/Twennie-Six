{{#*inline "title"}}Leader Membership Form | Twennie{{/inline}}

<form id="leader-form" action="/leader/form" method="POST" class="membership-form">
  {{#if csrfToken}}
    <input type="hidden" name="_csrf" value="{{csrfToken}}">
  {{/if}}

  <!-- Centered Image -->
  <div style="text-align: center; margin-bottom: 1.5rem;">
    <img src="/images/bluey_3.png" alt="Leader Membership" style="max-height: 200px;">
  </div>

  <div class="leader-form-container">
    <h1 class="form-title">group leader membership form</h1>

    <!-- Group Information -->
    <div class="form-field">
      <label for="group-name">Group Name</label>
      <input type="text" id="group-name" name="groupName" placeholder="Hint: you'll want a fun name..." required>
    </div>

    <div class="form-field">
      <label for="group-leader-name">Group Leader Name</label>
      <input type="text" id="group-leader-name" name="groupLeaderName" value="{{user.name}}" required>
    </div>

    <div class="form-field">
      <label for="professionalTitle">Professional Title</label>
      <input type="text" id="professional-title" name="professionalTitle" value="{{user.professionalTitle}}" required>
    </div>

    <div class="form-field">
      <label for="organization">Organization</label>
      <input type="text" id="organization" name="organization" value="{{user.organization}}">
    </div>

    <!-- Industry -->
    <div class="form-field">
      <label for="industry">Industry</label>
      <select id="industry" name="industry" required>
        <option value="">Please select your industry</option>
        {{#each [
          "Engineering","Architecture","Project Management","Information Technology(IT)",
          "Web Design","Construction","Technology","AI and Robotics",
          "Social Media/Digital Advertising","Community Planning/Landscape Architecture",
          "Land Development","Telecommunications","E-Commerce","Cybersecurity",
          "Fintech","Edtech","Energy and Utilities","Manufacturing","Other"
        ]}}
          <option value="{{this}}" {{#ifEquals this ../user.industry}}selected{{/ifEquals}}>{{this}}</option>
        {{/each}}
      </select>
    </div>

    <div class="form-field">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" value="{{user.username}}" required>
    </div>

    <div class="form-field">
      <label for="group-leader-email">Group Leader Email Address</label>
      <input type="email" id="group-leader-email" name="groupLeaderEmail" value="{{user.email}}" required>
    </div>

    <div class="form-field password-toggle-container">
      <label for="password">Password</label>
      <div class="password-wrapper">
        <input type="password" id="password" name="password" required>
        <span class="toggle-password" onclick="togglePasswordVisibility()">
          <ion-icon id="toggleIcon" name="eye-outline"></ion-icon>
        </span>
      </div>
    </div>

    <p style="width: 50%; text-align: center;">
      Group leaders must start memberships for all members of their group...
    </p>

    <div class="leader-form-field">
      <label for="group-size">Number of Members</label>
      <select id="group-size" name="groupSize" required>
        <option value="">Select group size</option>
        {{#each [2,3,4,5,6,7,8,9,10]}}
          <option value="{{this}}">{{this}} members</option>
        {{/each}}
      </select>
    </div>

    <!-- Member Details Placeholder -->
    <div class="individual-members-container">
      <h3>Individual Group Members</h3>
      <div id="members-grid" class="members-grid"></div>
    </div>

    <div class="form-field">
      <label for="registration-code">Create a Registration Code</label>
      <input type="text" id="registration-code" name="registration_code" placeholder="Create a unique code for your team" required>
      <small class="form-instructions">
        <strong>How to Create a Registration Code:</strong><br>
        - At least 8 characters<br>
        - Letters and numbers only<br>
        - No special characters<br>
        - Keep it secure<br>
        <strong>Examples:</strong> "TechTeam2024", "ZenGrowth45"
      </small>
    </div>

    <!-- Group Agreement -->
    <div class="form-toggle">
      <label for="group-agreement-toggle" class="form-toggle-label">
        <input type="checkbox" id="group-agreement-toggle" name="group_agreement" value="true" required>
        I agree to fulfill the responsibilities of a group leader...
      </label>
    </div>

    <!-- Payment Note -->
    <div class="form-field" id="group-payment-placeholder">
      <p><strong>Payment Reminder:</strong> Youâ€™ll be redirected to a payment page...</p>
      <p>If your organization prefers to be invoiced, <a href="mailto:info@twennie.com">contact Twennie</a>.</p>
    </div>

    <!-- Hidden Submission Info -->
    <input type="hidden" name="accessLevel" value="paid_leader">
    <input type="hidden" name="redirectTarget" value="payment">

    <!-- Submit Button -->
    <button type="submit" class="make-member-button">
      make me a Twennie group leader
    </button>

    <script src="https://www.twennie.com/javascript/leaderform/leaderform.js"></script>
  </div>
</form>

<script>
  function togglePasswordVisibility() {
    const input = document.getElementById("password");
    const icon = document.getElementById("toggleIcon");
    if (input.type === "password") {
      input.type = "text";
      icon.name = "eye-off-outline";
    } else {
      input.type = "password";
      icon.name = "eye-outline";
    }
  }
</script>

