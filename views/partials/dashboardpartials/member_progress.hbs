<div class="member-progress-container">

  {{#if currentPromptSets.length}}
    <h2 class="member-progress-current-title">current prompt sets</h2>
    <div class="member-progress-current">
      {{#each currentPromptSets}}
        <div class="member-progress-grid">
          <h2 class="member-progress-title">{{this.promptSetTitle}}</h2>
          <img 
            src="/promptprogress/promptprogress{{increment @index}}-{{this.promptIndex}}.svg"
            alt="Progress Pie Chart" 
            class="member-progress-svg"
            data-progress="{{this.promptIndex}}"
          >
          <p class="member-progress-target">
            you have completed {{this.promptIndex}} prompts in this set
          </p>
        </div>
      {{/each}}
    </div>
  {{/if}}

{{#if completedPromptSets.length}}
  <div class="member-progress-completed">
    <h2 class="member-progress-completed-title">completed prompt sets</h2>

    <div class="member-progress-completed-grid">
      {{#each completedPromptSets}}
        <div class="member-progress-completed-card">
          <h3 class="member-progress-completed-title">{{this.promptSetTitle}}</h3>
          <p class="member-progress-completed-main-topic">{{this.mainTopic}}</p>
          <p class="member-progress-completed-date">
            completed: {{this.completedAt}}
          </p>
          <div class="member-progress-badge">
            {{#if this.badge}}
              <img src="{{this.badge.image}}" alt="{{this.badge.name}}" class="member-progress-badge-img">
              <p class="member-progress-badge-name">{{this.badge.name}}</p>
            {{else}}
              <p class="member-progress-badge-name">No badge earned</p>
            {{/if}}
          </div>
        </div>
      {{/each}}
    </div>

    <!-- View report button -->
    <div class="member-progress-report-button-container">
      <a href="/reports/mypromptsets" class="member-progress-report-button">
        view my completed prompts
      </a>
    </div>
  </div>
{{/if}}


