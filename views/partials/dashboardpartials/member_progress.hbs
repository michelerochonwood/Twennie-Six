<div class="member-progress-container" style="overflow: hidden; padding-bottom: 2rem;">

  {{#ifEquals @root.member.accessLevel "free_individual"}}
    <p style="text-align: center; margin: 2rem 0; font-style: italic; color: #4e50a2;">
      To register for prompts, you must upgrade your membership.
    </p>
  {{else}}
    {{#if currentPromptSets.length}}
      <h2 class="member-progress-current-title">current prompt sets</h2>
      <div class="member-progress-current">
        {{#each currentPromptSets}}
          <div class="member-progress-grid">
            <h2 class="member-progress-title">{{this.promptSetTitle}}</h2>
            <img 
              src="/promptprogress/promptprogress{{increment @index}}-{{this.promptIndex}}.svg"
              alt="Progress Pie Chart" 
              class="member-progress-svg"
              data-progress="{{this.promptIndex}}"
            >
            <p class="member-progress-target">
              you have completed {{this.promptIndex}} prompts in this set
            </p>
          </div>
        {{/each}}
      </div>
    {{/if}}

    <div class="member-progress-completed">
      <h2 class="member-progress-completed-title">completed prompt sets</h2>

      {{#if completedPromptSets.length}}
        <div class="member-progress-completed-grid" style="overflow: hidden;">
          {{#each completedPromptSets}}
            <div class="member-progress-completed-card" style="padding: 1rem; min-height: auto;">
              <h3 class="member-progress-completed-title">{{this.promptSetTitle}}</h3>
              <p class="member-progress-completed-main-topic">{{this.mainTopic}}</p>
              <p class="member-progress-completed-date">
                completed: {{this.completedAt}}
              </p>
              <div class="member-progress-badge" style="text-align: center; margin-top: 1rem;">
                {{#if this.badge}}
                  <img src="{{this.badge.image}}" alt="{{this.badge.name}}" class="member-progress-badge-img" style="max-width: 80px;">
                  <p class="member-progress-badge-name">{{this.badge.name}}</p>
                {{else}}
                  <p class="member-progress-badge-name">No badge earned</p>
                {{/if}}
              </div>
            </div>
          {{/each}}
        </div>
      {{else}}
        <p class="no-data" style="text-align: center; margin-top: 1rem;">
          You havenâ€™t completed any prompt sets yet.
        </p>
      {{/if}}

      <div class="member-progress-report-button-container">
        <a href="/reports/mypromptsets" class="member-progress-report-button">
          view my completed prompts
        </a>
      </div>
    </div>
  {{/ifEquals}}

  <div style="height: 1px; clear: both;"></div>

</div>






