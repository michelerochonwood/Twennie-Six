<section class="leader-membership-tab">
  <h2 class="leader-membership-title">membership snapshot</h2>
  <div class="leader-membership-grid">
    
    <!-- Column 1 -->
    <div class="leader-membership-column">
      <p class="leader-membership-line">
        <span class="leader-membership-label">Group Name:</span> {{leader.groupName}}
      </p>

      <p class="leader-membership-line">
        <span class="leader-membership-label">Members:</span>
        {{#each leaderGroupMembers}}
          <br>{{this.name}}
        {{/each}}
      </p>

      <p class="leader-membership-line">
        <span class="leader-membership-label">Organization:</span> {{leader.organization}}
      </p>
    </div>

    <!-- Column 2 -->
    <div class="leader-membership-column">
      <p class="leader-membership-access-title">You can access:</p>
      <ul class="leader-membership-access-list">
        <li>all Twennie-generated library units</li>
        <li><em>{{leader.groupName}}</em>-generated library units</li>
        <li><em>{{leader.organization}}</em>-generated library units</li>
        <li>profiles and content of your group members</li>
        <li>your chosen topics</li>
        <li>your registered prompt sets and notes forms</li>
        <li>your progress in prompt set completions</li>
        <li>library contribution forms</li>
        <li>your submitted library units</li>
        <li>your tagged units</li>
        <li>your report center</li>
      </ul>
    </div>
  </div>

<div class="group-membership-button-container">
  <a href="/change_membership" class="group-membership-btn" style="text-decoration: none">change my membership</a>
</div>
</section>

<section class="leader-membership-tab">
  <h2 class="leader-membership-title">account & email preferences</h2>

  <div class="leader-membership-grid">
    <!-- Column 1: Account info -->
    <div class="leader-membership-column">
      <form action="/leader-dashboard/account/details" method="POST" novalidate>
        <input type="hidden" name="_csrf" value="{{csrfToken}}">

        <p class="leader-membership-line">
          <label class="leader-membership-label" for="acc_name">Name:</label>
          <input id="acc_name" class="leader-membership-input" type="text" name="name" value="{{leaderAccount.name}}" required>
        </p>

        <p class="leader-membership-line">
          <label class="leader-membership-label" for="acc_email">Email:</label>
          <input id="acc_email" class="leader-membership-input" type="email" name="email" value="{{leaderAccount.email}}" required>
        </p>

        {{#if leaderAccount.username}}
        <p class="leader-membership-line">
          <label class="leader-membership-label" for="acc_username">Username:</label>
          <input id="acc_username" class="leader-membership-input" type="text" name="username" value="{{leaderAccount.username}}">
        </p>
        {{/if}}

        <div class="group-membership-button-container">
          <button type="submit" class="group-membership-btn">save my account information</button>
        </div>
      </form>
    </div>

    <!-- Column 2: Email preferences -->
    <div class="leader-membership-column">
      <p class="leader-membership-access-title">email notifications</p>

      <form action="/leader-dashboard/account/email-preferences" method="POST" novalidate>
        <input type="hidden" name="_csrf" value="{{csrfToken}}">

        <ul class="leader-membership-access-list">
          <li>
            <label class="leader-membership-line" style="display:flex; gap:.5rem; align-items:flex-start;">
              <input type="radio" name="email_preference_level" value="1" {{#if (eq emailPreferenceLevel 1)}}checked{{/if}}>
              <span>
                <span class="leader-membership-label">Level 1:</span>
                changes to account | password resets only
              </span>
            </label>
          </li>

          <li>
            <label class="leader-membership-line" style="display:flex; gap:.5rem; align-items:flex-start;">
              <input type="radio" name="email_preference_level" value="2" {{#if (eq emailPreferenceLevel 2)}}checked{{/if}}>
              <span>
                <span class="leader-membership-label">Level 2:</span>
                changes to account | password resets | new units in my favorite topics | changes to the Twennie platform
              </span>
            </label>
          </li>

          <li>
            <label class="leader-membership-line" style="display:flex; gap:.5rem; align-items:flex-start;">
              <input type="radio" name="email_preference_level" value="3" {{#if (eq emailPreferenceLevel 3)}}checked{{/if}}>
              <span>
                <span class="leader-membership-label">Level 3:</span>
                changes to account | password resets | new units in my favorite topics | changes to the Twennie platform | upcoming learning events on Twennie | promotional offers from Twennie
              </span>
            </label>
          </li>
        </ul>

        <div class="group-membership-button-container">
          <button type="submit" class="group-membership-btn">save my email preferences</button>
        </div>
      </form>
    </div>
  </div>
</section>





